{% extends "base.html" %}
{% block content %}
<div class="card">
  <h2>ğŸ“¥ TÃ©lÃ©chargement</h2>
  <p class="muted">Convertissez vos vidÃ©os YouTube prÃ©fÃ©rÃ©es en MP3 ou MP4 de haute qualitÃ©.</p>
  
  <form method="post" id="downloadForm">
    <div class="form-group">
      <label class="form-label">ğŸ”— Lien YouTube</label>
      <input type="text" name="url" placeholder="https://www.youtube.com/watch?v=..." required>
      <p class="form-hint">Collez l'URL complÃ¨te de la vidÃ©o YouTube</p>
    </div>
    
    <div class="form-group">
      <label class="form-label">ğŸ“¦ Format de sortie</label>
      <div class="download-options">
        <label class="download-option selected">
          <input type="radio" name="mode" value="mp3" checked>
          <span class="download-option-icon">ğŸµ</span>
          <span class="download-option-label">MP3</span>
        </label>
        <label class="download-option">
          <input type="radio" name="mode" value="mp4">
          <span class="download-option-icon">ğŸ¥</span>
          <span class="download-option-label">MP4</span>
        </label>
      </div>
    </div>
    
    <button type="submit">
      â¬‡ï¸ TÃ©lÃ©charger (1 crÃ©dit)
    </button>
  </form>
  
  {% if msg %}<p class="error">{{ msg }}</p>{% endif %}
  
  <p class="muted" style="text-align:center;margin-top:20px;">
    â³ Les tÃ©lÃ©chargements lourds peuvent prendre du temps. Restez sur la page.
  </p>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const downloadOptions = document.querySelectorAll('.download-option');
  downloadOptions.forEach(function(option) {
    option.addEventListener('click', function() {
      downloadOptions.forEach(function(o) { o.classList.remove('selected'); });
      option.classList.add('selected');
    });
  });
});
</script>
{% endblock %}